// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
  repositories {
    google()
    mavenCentral()
    maven {
      url "https://mirrors.tencent.com/repository/maven/karaoke-android/"
    }
  }
  dependencies {
    classpath 'com.android.tools.build:gradle:4.0.1'
    // NOTE: Do not place your application dependencies here; they belong
    // in the individual module build.gradle files
    classpath 'com.tme.plugin.gradle:tme_module_upload:1.0.6-release' // 以 sdk.properties 中的版本为准
  }
  configurations.all {
    resolutionStrategy.cacheChangingModulesFor 1, 'seconds'
    resolutionStrategy.cacheDynamicVersionsFor 1, 'seconds'
  }
}

allprojects {
  repositories {
    google()
    mavenCentral()
  }
  configurations.all {
    resolutionStrategy.cacheChangingModulesFor 1, 'seconds'
    resolutionStrategy.cacheDynamicVersionsFor 1, 'seconds'
  }
}

task clean(type: Delete) {
  delete rootProject.buildDir
}

project.afterEvaluate {
  delete 'example/src/main/assets'
  copy {
    from "res"
    into "example/src/main/assets"
  }
}
